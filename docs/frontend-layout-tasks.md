# 前端畫面佈局任務清單

> **專案**: LifeDesign 人生設計助手
> **版本**: v1.0 MVP
> **建立日期**: 2026-01-28
> **專注**: 畫面佈局與 Mock Data 規劃

---

## 概覽

本文件專注於前端 UI 佈局的開發任務，所有後端 API 將使用 Mock Data 模擬。目標是快速建立視覺原型，驗證使用者體驗流程。

---

## 一、整體頁面架構

### 1.1 佈局結構

```
┌─────────────────────────────────────────────────────────┐
│                      Header (64px)                       │
│  ┌─────┐  Logo    Navigation         User Avatar  Menu  │
└─────────────────────────────────────────────────────────┘
┌──────────┬──────────────────────────────────────────────┐
│          │                                               │
│  Sidebar │              Main Content                     │
│  (240px) │              (flex-1)                         │
│          │                                               │
│  - 探索   │  ┌─────────────────────────────────────┐     │
│  - 設計   │  │          Page Header                │     │
│  - 習慣   │  ├─────────────────────────────────────┤     │
│  - 反思   │  │                                     │     │
│  - 設定   │  │          Page Content               │     │
│          │  │                                     │     │
│          │  │                                     │     │
│          │  └─────────────────────────────────────┘     │
│          │                                               │
└──────────┴──────────────────────────────────────────────┘
```

### 1.2 響應式斷點

| 斷點 | 寬度 | 佈局變化 |
|------|------|----------|
| Mobile | < 768px | Sidebar 收合為底部 Tab Bar |
| Tablet | 768px - 1024px | Sidebar 可收合 |
| Desktop | > 1024px | 完整 Sidebar 顯示 |

### 1.3 佈局任務清單

- [ ] **AppShell 元件** - 整體框架佈局
  - [ ] Header 元件 (Logo, Navigation, User Menu)
  - [ ] Sidebar 元件 (導航選單)
  - [ ] Main Content 區域
  - [ ] Mobile 底部 Tab Bar

- [ ] **響應式處理**
  - [ ] Mobile First 設計
  - [ ] 斷點切換邏輯
  - [ ] Sidebar 展開/收合動畫

---

## 二、認證頁面佈局

### 2.1 登入頁 `/login`

```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│     ┌─────────────────────────────────────────┐        │
│     │                                         │        │
│     │           🌟 LifeDesign                 │        │
│     │         人生設計助手                     │        │
│     │                                         │        │
│     │   ┌─────────────────────────────┐      │        │
│     │   │   🔵 使用 Google 登入        │      │        │
│     │   └─────────────────────────────┘      │        │
│     │                                         │        │
│     │   ┌─────────────────────────────┐      │        │
│     │   │   🍎 使用 Apple 登入         │      │        │
│     │   └─────────────────────────────┘      │        │
│     │                                         │        │
│     │   ─────── 或使用 Email ───────         │        │
│     │                                         │        │
│     │   Email: [__________________]           │        │
│     │   密碼:  [__________________]           │        │
│     │                                         │        │
│     │   ┌─────────────────────────────┐      │        │
│     │   │         登入                 │      │        │
│     │   └─────────────────────────────┘      │        │
│     │                                         │        │
│     │   還沒有帳號？ 立即註冊                  │        │
│     │                                         │        │
│     └─────────────────────────────────────────┘        │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 2.2 認證頁面任務清單

- [ ] **登入頁面** `/[locale]/(auth)/login`
  - [ ] 居中卡片佈局
  - [ ] Logo 與標語
  - [ ] OAuth 按鈕 (Google / Apple)
  - [ ] Email 登入表單
  - [ ] 忘記密碼連結
  - [ ] 註冊連結

- [ ] **註冊頁面** `/[locale]/(auth)/register`
  - [ ] 步驟式表單佈局
  - [ ] 表單驗證 UI

---

## 三、Onboarding 流程佈局

### 3.1 Onboarding 步驟視圖

```
┌─────────────────────────────────────────────────────────┐
│  ← 返回                              步驟 2 / 5         │
├─────────────────────────────────────────────────────────┤
│                                                         │
│                     進度條                               │
│  ═══════════════════════════════════░░░░░░░░░░░░        │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                 │   │
│  │                  🎯                             │   │
│  │                                                 │   │
│  │           你想透過 LifeDesign                   │   │
│  │           達成什麼目標？                         │   │
│  │                                                 │   │
│  │   ┌───────────────────┐  ┌───────────────────┐ │   │
│  │   │   💼 職涯轉換      │  │   🎓 畢業規劃      │ │   │
│  │   └───────────────────┘  └───────────────────┘ │   │
│  │                                                 │   │
│  │   ┌───────────────────┐  ┌───────────────────┐ │   │
│  │   │   🔄 中年重啟      │  │   🌱 自我成長      │ │   │
│  │   └───────────────────┘  └───────────────────┘ │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│              ┌─────────────────────────┐               │
│              │        繼續              │               │
│              └─────────────────────────┘               │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 3.2 Onboarding 任務清單

- [ ] **OnboardingLayout 元件**
  - [ ] 頂部導航 (返回、步驟指示)
  - [ ] 進度條元件
  - [ ] 內容區域 (動畫切換)
  - [ ] 底部按鈕區

- [ ] **Onboarding 步驟頁面**
  - [ ] Step 1: 歡迎頁
  - [ ] Step 2: 目標選擇 (四宮格選項)
  - [ ] Step 3: 簡易意義羅盤
  - [ ] Step 4: 設定第一個習慣
  - [ ] Step 5: 完成 & 解鎖

---

## 四、首頁 Dashboard 佈局

### 4.1 Dashboard 佈局設計

```
┌─────────────────────────────────────────────────────────┐
│                       Dashboard                          │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  👋 早安，小明！今天也要好好照顧自己                       │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │                 每日概覽                           │ │
│  │  ┌─────────┐  ┌─────────┐  ┌─────────┐           │ │
│  │  │ 🔥 15   │  │ ✅ 2/5  │  │ 📝 待完成│           │ │
│  │  │ 連續天數 │  │ 今日習慣 │  │ 今日反思 │           │ │
│  │  └─────────┘  └─────────┘  └─────────┘           │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│  ┌─────────────────────┐  ┌─────────────────────────┐  │
│  │    今日習慣打卡      │  │      意義羅盤快覽        │  │
│  │  ┌───────────────┐  │  │                         │  │
│  │  │ ☐ 冥想 5 分鐘  │  │  │     ┌─────┐           │  │
│  │  │ ☑ 閱讀 20 分鐘 │  │  │   ┌─┼─────┼─┐         │  │
│  │  │ ☐ 運動 30 分鐘 │  │  │   │ │ ★ │ │         │  │
│  │  │ ☑ 寫日記       │  │  │   └─┼─────┼─┘         │  │
│  │  └───────────────┘  │  │     └─────┘           │  │
│  │                     │  │   查看完整羅盤 →        │  │
│  └─────────────────────┘  └─────────────────────────┘  │
│                                                         │
│  ┌─────────────────────┐  ┌─────────────────────────┐  │
│  │    最近徽章          │  │      本週進度           │  │
│  │  🏆 探索者  🏅 反思者 │  │  ══════════════ 75%   │  │
│  │  查看全部 →          │  │  目標完成 3/4          │  │
│  └─────────────────────┘  └─────────────────────────┘  │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 4.2 Dashboard 任務清單

- [ ] **Dashboard 頁面** `/[locale]/(main)/dashboard`
  - [ ] 問候語區塊 (根據時間動態變化)
  - [ ] 每日概覽卡片 (3 欄 Grid)
    - [ ] 連續打卡天數
    - [ ] 今日習慣進度
    - [ ] 今日反思狀態
  - [ ] 今日習慣快捷打卡區
  - [ ] 意義羅盤縮略圖
  - [ ] 最近獲得徽章
  - [ ] 本週進度條

---

## 五、意義羅盤佈局

### 5.1 羅盤問答介面

```
┌─────────────────────────────────────────────────────────┐
│  ← 意義羅盤                                   保存進度   │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  熱愛  │  使命  │  專業  │  職業                 │   │
│  │  ━━━━     ─      ─       ─                      │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                 │   │
│  │   💖 熱愛 - 你愛做的事                          │   │
│  │                                                 │   │
│  │   問題 1/5                                      │   │
│  │   ───────────────────────────────               │   │
│  │   如果不用擔心收入，你想花時間做什麼？            │   │
│  │                                                 │   │
│  │   ┌─────────────────────────────────────┐      │   │
│  │   │                                     │      │   │
│  │   │  在這裡輸入你的想法...                │      │   │
│  │   │                                     │      │   │
│  │   │                                     │      │   │
│  │   └─────────────────────────────────────┘      │   │
│  │                                                 │   │
│  │   💡 提示：想想小時候喜歡做的事                  │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│         ┌──────────┐        ┌──────────┐              │
│         │   上一題   │        │   下一題  │              │
│         └──────────┘        └──────────┘              │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 5.2 羅盤視覺化結果

```
┌─────────────────────────────────────────────────────────┐
│  ← 返回                                    分享結果     │
├─────────────────────────────────────────────────────────┤
│                                                         │
│              你的意義羅盤分析結果                         │
│                                                         │
│          ┌───────────────────────────┐                 │
│          │                           │                 │
│          │     熱愛                   │                 │
│          │   ┌─────┐                 │                 │
│          │ 使 │     │ 專             │                 │
│          │ 命 │  ★  │ 業             │                 │
│          │   └─────┘                 │                 │
│          │     職業                   │                 │
│          │                           │                 │
│          │   D3.js 四圓交集圖          │                 │
│          └───────────────────────────┘                 │
│                                                         │
│  ┌───────────────────────────────────────────────────┐ │
│  │  📊 分析結果                                       │ │
│  │                                                   │ │
│  │  你的核心交集領域是：                              │ │
│  │  🎯 創意教育 + 內容創作                           │ │
│  │                                                   │ │
│  │  • 熱愛：分享知識、創作內容                        │ │
│  │  • 使命：幫助他人成長                             │ │
│  │  • 專業：溝通能力、數位技能                        │ │
│  │  • 職業：教育、媒體、行銷                         │ │
│  └───────────────────────────────────────────────────┘ │
│                                                         │
│              ┌─────────────────────────┐               │
│              │   繼續探索三軌藍圖 →     │               │
│              └─────────────────────────┘               │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 5.3 意義羅盤任務清單

- [ ] **意義羅盤頁面** `/[locale]/(main)/explore/compass`
  - [ ] 分頁標籤 (四面向切換)
  - [ ] 問答卡片元件
    - [ ] 問題顯示
    - [ ] 文字輸入區
    - [ ] 提示訊息
  - [ ] 上/下題導航按鈕
  - [ ] 進度保存狀態

- [ ] **羅盤視覺化結果頁**
  - [ ] D3.js 四圓交集圖 (Mock 互動)
  - [ ] 分析結果卡片
  - [ ] 各面向摘要
  - [ ] 行動建議
  - [ ] 分享功能

---

## 六、三軌人生藍圖佈局

### 6.1 藍圖編輯介面

```
┌─────────────────────────────────────────────────────────┐
│  ← 三軌人生藍圖                              儲存      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌───────────────┬───────────────┬───────────────┐     │
│  │   版本 A      │   版本 B      │   版本 C      │     │
│  │   現況延伸    │   替代方案    │   理想生活    │     │
│  │   ━━━━━━     │               │               │     │
│  └───────────────┴───────────────┴───────────────┘     │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  📝 版本 A - 延續現況的最佳發展                   │   │
│  │                                                 │   │
│  │  標題：[成為資深軟體工程師        ]              │   │
│  │                                                 │   │
│  │  描述：                                         │   │
│  │  ┌─────────────────────────────────────┐       │   │
│  │  │ 持續在科技業深耕，累積技術深度...     │       │   │
│  │  └─────────────────────────────────────┘       │   │
│  │                                                 │   │
│  │  資源需求評估：                                  │   │
│  │  💰 金錢    ████████░░  80%                    │   │
│  │  ⏰ 時間    ██████░░░░  60%                    │   │
│  │  🛠 技能    █████░░░░░  50%                    │   │
│  │  👥 人脈    ███░░░░░░░  30%                    │   │
│  │                                                 │   │
│  │  信心指數：  ████████░░  8/10                  │   │
│  │                                                 │   │
│  │  里程碑時間軸：                                  │   │
│  │  ◯────◯────◯────◯────◯                        │   │
│  │  6月   1年   2年   3年  5年                     │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 6.2 版本比較視圖

```
┌─────────────────────────────────────────────────────────┐
│  三軌藍圖比較                                           │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────┬─────────────┬─────────────┐           │
│  │   版本 A    │   版本 B    │   版本 C    │           │
│  ├─────────────┼─────────────┼─────────────┤           │
│  │ 資深工程師  │ 創業者      │ 數位遊牧    │           │
│  ├─────────────┼─────────────┼─────────────┤           │
│  │ 💰 80%     │ 💰 90%     │ 💰 40%     │           │
│  │ ⏰ 60%     │ ⏰ 95%     │ ⏰ 50%     │           │
│  │ 🛠 50%     │ 🛠 70%     │ 🛠 60%     │           │
│  │ 👥 30%     │ 👥 80%     │ 👥 70%     │           │
│  ├─────────────┼─────────────┼─────────────┤           │
│  │ 信心：8/10 │ 信心：5/10 │ 信心：6/10 │           │
│  └─────────────┴─────────────┴─────────────┘           │
│                                                         │
│  📊 雷達圖比較                                         │
│  ┌─────────────────────────────────────────┐           │
│  │               資源需求                   │           │
│  │                  ▲                      │           │
│  │                 /│\                     │           │
│  │                / │ \                    │           │
│  │    ─ A  ─ B  ─ C                       │           │
│  └─────────────────────────────────────────┘           │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 6.3 三軌藍圖任務清單

- [ ] **藍圖頁面** `/[locale]/(main)/design/blueprint`
  - [ ] 三版本 Tab 切換
  - [ ] 藍圖編輯表單
    - [ ] 標題輸入
    - [ ] 描述文字區
    - [ ] 資源需求滑桿 (4 項)
    - [ ] 信心指數滑桿
  - [ ] 里程碑時間軸編輯器
  - [ ] 版本比較視圖
  - [ ] 雷達圖視覺化

---

## 七、價值觀排序佈局

### 7.1 卡片拖曳介面

```
┌─────────────────────────────────────────────────────────┐
│  ← 價值觀排序                                          │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  拖曳卡片來排序你最重視的價值觀                          │
│  選出前 5 項最重要的價值觀                               │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  🏆 前五名 (拖曳到這裡)                          │   │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐           │   │
│  │  │ 1. 家庭 │ │ 2. 成長 │ │ 3. 自由 │           │   │
│  │  └─────────┘ └─────────┘ └─────────┘           │   │
│  │  ┌─────────┐ ┌─────────┐                       │   │
│  │  │ 4. 健康 │ │ 5. ___  │                       │   │
│  │  └─────────┘ └─────────┘                       │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  📋 所有價值觀 (點擊或拖曳)                      │   │
│  │                                                 │   │
│  │  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐  │   │
│  │  │  創意  │ │  財富  │ │  冒險  │ │  安全  │  │   │
│  │  └────────┘ └────────┘ └────────┘ └────────┘  │   │
│  │  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐  │   │
│  │  │  愛情  │ │  智慧  │ │  影響  │ │  平靜  │  │   │
│  │  └────────┘ └────────┘ └────────┘ └────────┘  │   │
│  │  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐  │   │
│  │  │  成就  │ │  友誼  │ │  正義  │ │  美感  │  │   │
│  │  └────────┘ └────────┘ └────────┘ └────────┘  │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│              ┌─────────────────────────┐               │
│              │     確認我的價值觀       │               │
│              └─────────────────────────┘               │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 7.2 價值觀任務清單

- [ ] **價值觀頁面** `/[locale]/(main)/explore/values`
  - [ ] 拖曳排序區域 (Top 5)
  - [ ] 價值觀卡片庫
  - [ ] 拖曳互動 (@dnd-kit)
  - [ ] 卡片樣式 (選中/未選中)
  - [ ] 確認按鈕
  - [ ] 結果展示頁

---

## 八、習慣追蹤佈局

### 8.1 習慣列表頁

```
┌─────────────────────────────────────────────────────────┐
│  ← 習慣追蹤                               + 新增習慣    │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  🔥 連續 15 天                    本週完成率 85%        │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  今日習慣 (4 項)                   全部完成 ☐    │   │
│  │                                                 │   │
│  │  ┌─────────────────────────────────────────┐   │   │
│  │  │ ☑  冥想 5 分鐘           🔥 15 天       │   │   │
│  │  │     每天早上起床後                       │   │   │
│  │  └─────────────────────────────────────────┘   │   │
│  │                                                 │   │
│  │  ┌─────────────────────────────────────────┐   │   │
│  │  │ ☐  閱讀 20 分鐘          🔥 8 天        │   │   │
│  │  │     每天睡前                             │   │   │
│  │  └─────────────────────────────────────────┘   │   │
│  │                                                 │   │
│  │  ┌─────────────────────────────────────────┐   │   │
│  │  │ ☐  運動 30 分鐘          🔥 3 天        │   │   │
│  │  │     每週一三五                           │   │   │
│  │  └─────────────────────────────────────────┘   │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  📊 完成趨勢                                    │   │
│  │  ┌─────────────────────────────────────────┐   │   │
│  │  │  ▂▃▅▆█▇▅▆█▇▅▆                          │   │   │
│  │  │  週一 週二 週三 週四 週五 週六 週日        │   │   │
│  │  └─────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 8.2 新增習慣表單

```
┌─────────────────────────────────────────────────────────┐
│  ← 新增習慣                                            │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                 │   │
│  │  習慣名稱：                                     │   │
│  │  [閱讀 20 分鐘                        ]         │   │
│  │                                                 │   │
│  │  💡 微習慣提示：從小目標開始更容易堅持            │   │
│  │                                                 │   │
│  │  觸發時機：                                     │   │
│  │  ┌──────────────────┐                          │   │
│  │  │ 睡前              │ ▼                       │   │
│  │  └──────────────────┘                          │   │
│  │                                                 │   │
│  │  頻率：                                         │   │
│  │  ○ 每天  ● 每週特定日  ○ 自訂                  │   │
│  │                                                 │   │
│  │  ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐         │   │
│  │  │一│ │二│ │三│ │四│ │五│ │六│ │日│         │   │
│  │  └──┘ └──┘ └──┘ └──┘ └──┘ └──┘ └──┘         │   │
│  │   ✓    ✓    ✓    ✓    ✓    ✓    ✓            │   │
│  │                                                 │   │
│  │  提醒時間：                                     │   │
│  │  [22:00                              ]         │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│              ┌─────────────────────────┐               │
│              │       建立習慣           │               │
│              └─────────────────────────┘               │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 8.3 習慣追蹤任務清單

- [ ] **習慣列表頁** `/[locale]/(main)/habits`
  - [ ] 連續天數統計頭部
  - [ ] 今日習慣卡片列表
    - [ ] 習慣項目卡片
    - [ ] 勾選互動 (動畫)
    - [ ] 連續天數徽章
  - [ ] 完成趨勢圖 (Recharts)
  - [ ] 新增習慣按鈕

- [ ] **新增/編輯習慣頁面**
  - [ ] 表單佈局
  - [ ] 微習慣提示
  - [ ] 頻率選擇器 (週曆)
  - [ ] 提醒時間設定

- [ ] **習慣詳情頁**
  - [ ] 習慣統計 (月曆熱力圖)
  - [ ] 里程碑進度
  - [ ] 編輯/刪除選項

---

## 九、每日反思佈局

### 9.1 反思編輯介面

```
┌─────────────────────────────────────────────────────────┐
│  ← 每日反思                       2026/01/28 週二       │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  今天過得如何？                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  😊      🙂      😐      😟      😢            │   │
│  │  很棒    不錯    普通    低落    難過            │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  📝 今日反思                                    │   │
│  │                                                 │   │
│  │  今天最有意義的一件事是什麼？                     │   │
│  │  ┌─────────────────────────────────────────┐   │   │
│  │  │                                         │   │   │
│  │  │ 今天在會議上成功提出了新想法...           │   │   │
│  │  │                                         │   │   │
│  │  └─────────────────────────────────────────┘   │   │
│  │                                                 │   │
│  │  今天學到了什麼？                               │   │
│  │  ┌─────────────────────────────────────────┐   │   │
│  │  │                                         │   │   │
│  │  └─────────────────────────────────────────┘   │   │
│  │                                                 │   │
│  │  明天想要改進什麼？                             │   │
│  │  ┌─────────────────────────────────────────┐   │   │
│  │  │                                         │   │   │
│  │  └─────────────────────────────────────────┘   │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  🙏 感恩日記 (選填)                             │   │
│  │                                                 │   │
│  │  1. [今天的陽光很溫暖                    ]      │   │
│  │  2. [同事幫我解決了難題                  ]      │   │
│  │  3. [                                    ]      │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│              ┌─────────────────────────┐               │
│              │       儲存反思           │               │
│              └─────────────────────────┘               │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 9.2 反思任務清單

- [ ] **反思頁面** `/[locale]/(main)/reflect`
  - [ ] 日期選擇器
  - [ ] 心情選擇器 (5 級 emoji)
  - [ ] 引導式問題區塊
    - [ ] 問題標題
    - [ ] 文字輸入區
  - [ ] 感恩日記區塊 (3 項)
  - [ ] 儲存按鈕

- [ ] **反思歷史頁**
  - [ ] 月曆視圖
  - [ ] 反思列表
  - [ ] 心情趨勢圖

---

## 十、設定頁面佈局

### 10.1 設定主頁

```
┌─────────────────────────────────────────────────────────┐
│  ← 設定                                                │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  👤 個人資料                                    │   │
│  │  ┌──────┐                                      │   │
│  │  │ 頭像 │  小明                                │   │
│  │  └──────┘  xiaoming@email.com                  │   │
│  │                                    編輯 →      │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  🔔 通知設定                                →  │   │
│  ├─────────────────────────────────────────────────┤   │
│  │  🌙 深色模式                            ◯ ⬤   │   │
│  ├─────────────────────────────────────────────────┤   │
│  │  🌐 語言                               繁體中文 │   │
│  ├─────────────────────────────────────────────────┤   │
│  │  🔒 隱私設定                                →  │   │
│  ├─────────────────────────────────────────────────┤   │
│  │  📤 匯出我的資料                            →  │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  ❓ 幫助中心                                →  │   │
│  ├─────────────────────────────────────────────────┤   │
│  │  📋 服務條款                                →  │   │
│  ├─────────────────────────────────────────────────┤   │
│  │  🛡 隱私政策                                →  │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  🚪 登出                                       │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  🗑 刪除帳號                                   │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│                    版本 1.0.0                          │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 10.2 設定任務清單

- [ ] **設定頁面** `/[locale]/(main)/settings`
  - [ ] 使用者資料卡片
  - [ ] 設定列表項目
    - [ ] 通知設定
    - [ ] 深色模式切換
    - [ ] 語言切換
    - [ ] 隱私設定
    - [ ] 資料匯出
  - [ ] 幫助與法律資訊
  - [ ] 登出按鈕
  - [ ] 刪除帳號 (危險操作)
  - [ ] 版本號顯示

---

## 十一、共用元件清單

### 11.1 基礎 UI 元件

- [ ] **Button**
  - [ ] Primary / Secondary / Ghost / Destructive 樣式
  - [ ] Loading 狀態
  - [ ] Icon Button

- [ ] **Input / TextArea**
  - [ ] 基本樣式
  - [ ] 錯誤狀態
  - [ ] Label & Helper Text

- [ ] **Card**
  - [ ] 基本卡片
  - [ ] 可點擊卡片
  - [ ] 統計卡片

- [ ] **Modal / Dialog**
  - [ ] 基本對話框
  - [ ] 確認對話框
  - [ ] 全螢幕 Modal

- [ ] **Toast / Notification**
  - [ ] Success / Error / Warning / Info

- [ ] **Progress**
  - [ ] 進度條
  - [ ] 圓形進度

- [ ] **Tabs**
  - [ ] 水平 Tabs
  - [ ] 分頁內容切換

- [ ] **Skeleton**
  - [ ] 文字骨架
  - [ ] 卡片骨架

### 11.2 業務元件

- [ ] **HabitCard** - 習慣卡片
- [ ] **ReflectionCard** - 反思卡片
- [ ] **BadgeDisplay** - 徽章展示
- [ ] **StreakCounter** - 連續天數計數器
- [ ] **MoodSelector** - 心情選擇器
- [ ] **DatePicker** - 日期選擇器
- [ ] **TimelineEditor** - 時間軸編輯器
- [ ] **RadarChart** - 雷達圖
- [ ] **CompassVis** - 羅盤視覺化

---

## 十二、Mock Data 結構設計

### 12.1 使用者資料

```typescript
// types/user.ts
interface User {
  id: string;
  email: string;
  name: string;
  avatar?: string;
  createdAt: string;
  onboardingCompleted: boolean;
  goal: 'career_change' | 'graduation' | 'midlife' | 'growth';
  preferences: {
    language: 'zh-TW' | 'zh-CN' | 'en';
    theme: 'light' | 'dark' | 'system';
    notifications: {
      habitReminder: boolean;
      reflectionReminder: boolean;
      weeklyReview: boolean;
    };
  };
}
```

### 12.2 意義羅盤資料

```typescript
// types/compass.ts
interface CompassData {
  id: string;
  userId: string;
  createdAt: string;
  updatedAt: string;
  passion: CompassQuestionSet;   // 熱愛
  mission: CompassQuestionSet;   // 使命
  profession: CompassQuestionSet; // 專業
  vocation: CompassQuestionSet;   // 職業
  analysis?: CompassAnalysis;
}

interface CompassQuestionSet {
  questions: {
    id: string;
    question: string;
    answer: string;
  }[];
  keywords: string[];
  score: number; // 0-100
}

interface CompassAnalysis {
  coreIntersection: string[];
  suggestions: string[];
  ikigaiScore: number;
}
```

### 12.3 三軌藍圖資料

```typescript
// types/blueprint.ts
interface Blueprint {
  id: string;
  userId: string;
  createdAt: string;
  updatedAt: string;
  versions: {
    a: BlueprintVersion; // 現況延伸
    b: BlueprintVersion; // 替代方案
    c: BlueprintVersion; // 理想生活
  };
}

interface BlueprintVersion {
  title: string;
  description: string;
  resources: {
    money: number;    // 0-100
    time: number;     // 0-100
    skills: number;   // 0-100
    network: number;  // 0-100
  };
  confidence: number; // 1-10
  milestones: {
    id: string;
    title: string;
    deadline: {
      type: 'absolute' | 'relative';
      date?: string;        // ISO 8601 format (YYYY-MM-DD) for 'absolute'
      value?: number;       // e.g., 6 for 'relative'
      unit?: 'month' | 'year'; // e.g., 'months' -> 6 months from now
    };
    completed: boolean;
  }[];
}
```

### 12.4 價值觀資料

```typescript
// types/values.ts
interface ValuesData {
  id: string;
  userId: string;
  createdAt: string;
  updatedAt: string;
  topFive: string[];
  allValues: {
    id: string;
    name: string;
    icon: string;
    selected: boolean;
    rank?: number;
  }[];
}

// 預設價值觀清單
const DEFAULT_VALUES = [
  { id: '1', name: '家庭', icon: '👨‍👩‍👧‍👦' },
  { id: '2', name: '自由', icon: '🦅' },
  { id: '3', name: '成長', icon: '🌱' },
  { id: '4', name: '健康', icon: '💪' },
  { id: '5', name: '創意', icon: '🎨' },
  { id: '6', name: '財富', icon: '💰' },
  { id: '7', name: '冒險', icon: '🏔' },
  { id: '8', name: '安全', icon: '🛡' },
  { id: '9', name: '愛情', icon: '❤️' },
  { id: '10', name: '智慧', icon: '📚' },
  { id: '11', name: '影響', icon: '🌟' },
  { id: '12', name: '平靜', icon: '🧘' },
  { id: '13', name: '成就', icon: '🏆' },
  { id: '14', name: '友誼', icon: '🤝' },
  { id: '15', name: '正義', icon: '⚖️' },
  { id: '16', name: '美感', icon: '✨' },
];
```

### 12.5 習慣追蹤資料

```typescript
// types/habit.ts
interface Habit {
  id: string;
  userId: string;
  name: string;
  description?: string;
  trigger: string; // 觸發時機
  frequency: {
    type: 'daily' | 'weekly' | 'custom';
    daysOfWeek?: number[]; // 0-6, for 'weekly' type
    customConfig?: {
      unit: 'day' | 'week' | 'month';
      interval?: number;  // e.g., every 3 days
      datesOfMonth?: number[]; // e.g., [1, 15] for 1st and 15th
    };
  };
  reminderTime?: string; // HH:mm
  streak: number;
  longestStreak: number;
  createdAt: string;
  archived: boolean;
}

interface HabitLog {
  id: string;
  habitId: string;
  date: string; // YYYY-MM-DD
  completed: boolean;
  completedAt?: string;
  note?: string;
}

interface HabitStats {
  habitId: string;
  totalDays: number;
  completedDays: number;
  completionRate: number;
  currentStreak: number;
  longestStreak: number;
  weeklyData: {
    date: string;
    completed: boolean;
  }[];
}
```

### 12.6 反思日記資料

```typescript
// types/reflection.ts
interface Reflection {
  id: string;
  userId: string;
  date: string; // YYYY-MM-DD
  mood: 1 | 2 | 3 | 4 | 5; // 1=very bad, 5=very good
  questions: {
    meaningful: string;  // 最有意義的事
    learned: string;     // 今天學到什麼
    improve: string;     // 想要改進什麼
  };
  gratitude: string[]; // 感恩清單 (最多3項)
  createdAt: string;
  updatedAt: string;
}

interface MoodTrend {
  date: string;
  mood: number;
}
```

### 12.7 徽章系統資料

```typescript
// types/badge.ts
interface Badge {
  id: string;
  name: string;
  description: string;
  icon: string;
  category: 'explore' | 'habit' | 'reflect' | 'design' | 'milestone';
  requirement: {
    type: string;
    value: number;
  };
  rarity: 'common' | 'rare' | 'epic' | 'legendary';
}

interface UserBadge {
  badgeId: string;
  unlockedAt?: string; // Optional: undefined when badge is in progress
  progress: number;    // 0-100, 100 means unlocked
}

// 預設徽章清單
const BADGES: Badge[] = [
  { id: 'explorer', name: '探索者', description: '完成意義羅盤', icon: '🧭', category: 'explore', requirement: { type: 'compass_complete', value: 1 }, rarity: 'common' },
  { id: 'reflector', name: '反思者', description: '完成首次每日反思', icon: '📝', category: 'reflect', requirement: { type: 'reflection_count', value: 1 }, rarity: 'common' },
  { id: 'habit_starter', name: '習慣養成者', description: '連續打卡 21 天', icon: '🌱', category: 'habit', requirement: { type: 'streak', value: 21 }, rarity: 'rare' },
  { id: 'designer', name: '設計師', description: '完成三軌人生藍圖', icon: '🎨', category: 'design', requirement: { type: 'blueprint_complete', value: 1 }, rarity: 'common' },
  { id: 'life_designer', name: '人生設計師', description: '完成 7 天 Onboarding', icon: '🏆', category: 'milestone', requirement: { type: 'onboarding_complete', value: 1 }, rarity: 'rare' },
  { id: 'habit_master', name: '習慣大師', description: '連續打卡 66 天', icon: '🔥', category: 'habit', requirement: { type: 'streak', value: 66 }, rarity: 'epic' },
  { id: 'centurion', name: '百日達人', description: '連續打卡 100 天', icon: '💎', category: 'habit', requirement: { type: 'streak', value: 100 }, rarity: 'legendary' },
];
```

### 12.8 Mock Data 檔案結構

```
apps/web/src/
├── mocks/
│   ├── index.ts           # 統一匯出
│   ├── user.mock.ts       # 使用者 Mock
│   ├── compass.mock.ts    # 意義羅盤 Mock
│   ├── blueprint.mock.ts  # 三軌藍圖 Mock
│   ├── values.mock.ts     # 價值觀 Mock
│   ├── habits.mock.ts     # 習慣追蹤 Mock
│   ├── reflection.mock.ts # 反思日記 Mock
│   └── badges.mock.ts     # 徽章系統 Mock
└── types/
    ├── index.ts
    ├── user.ts
    ├── compass.ts
    ├── blueprint.ts
    ├── values.ts
    ├── habit.ts
    ├── reflection.ts
    └── badge.ts
```

---

## 十三、開發優先級

### Phase 1: 基礎架構 (Week 1)

- [ ] AppShell 佈局框架
- [ ] 基礎 UI 元件 (Button, Input, Card, Modal)
- [ ] 路由結構設置
- [ ] Mock Data 結構與檔案

### Phase 2: 認證 & Onboarding (Week 2)

- [ ] 登入頁面佈局
- [ ] Onboarding 步驟佈局
- [ ] 進度條元件

### Phase 3: 核心功能 - 探索 (Week 3)

- [ ] Dashboard 首頁佈局
- [ ] 意義羅盤問答介面
- [ ] 意義羅盤視覺化 (D3.js 基礎)
- [ ] 價值觀排序介面 (拖曳)

### Phase 4: 核心功能 - 設計 (Week 4)

- [ ] 三軌藍圖編輯介面
- [ ] 時間軸元件
- [ ] 版本比較視圖
- [ ] 雷達圖元件

### Phase 5: 核心功能 - 行動 (Week 5)

- [ ] 習慣列表頁面
- [ ] 習慣打卡互動
- [ ] 新增習慣表單
- [ ] 習慣統計圖表

### Phase 6: 核心功能 - 反思 (Week 6)

- [ ] 反思編輯頁面
- [ ] 心情選擇器
- [ ] 感恩日記區塊
- [ ] 反思歷史頁面

### Phase 7: 設定 & 優化 (Week 7)

- [ ] 設定頁面
- [ ] 響應式優化
- [ ] 動畫效果
- [ ] 無障礙測試

---

## 更新日誌

| 日期 | 更新內容 | 負責人 |
|------|----------|--------|
| 2026-01-28 | 初始畫面佈局任務清單建立 | - |
